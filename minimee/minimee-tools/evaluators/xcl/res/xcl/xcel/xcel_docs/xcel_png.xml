<?xml version="1.0" encoding="UTF-8"?>
<!--
    xcel_png.xml
    * This module is part of the XCL software system
    *
    * Written by  Sebastian Beyl, Elona Chudobkaite, Volker Heydegger, Jan Schnasse, Manfred Thaller 2006 - 2008
    *
    * Copyright (C)  2006 - 2008   Sebastian Beyl, Elona Chudobkaite, Volker Heydegger, Jan Schnasse, Manfred Thaller 
    *
    * This program is free software; you can redistribute it and/or modify
    * it under the terms of the GNU General Public License as published by
    * the Free Software Foundation; either version 2 of the License, or
    * (at your option) any later version.
    *
    * This program is distributed in the hope that it will be useful,
    * but WITHOUT ANY WARRANTY; without even the implied warranty of
    * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    * GNU General Public License for more details.
    *
-->

<XCELDocument xmlns="http://www.planets-project.eu/xcl/schemas/xcl"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.planets-project.eu/xcl/schemas/xcl
	schemas/XCELImagePNGExtension.xsd">




    <preProcessing>
       
        <item xsi:type="structuringItem" identifier="pre1" order="sequence">
            
        <processing type="pushXCEL" xcelRef="pngRootItem">
            <processingMethod name="setByteOrder">
                <param value="bigEndian"/>
            </processingMethod>
        </processing>
            
        </item>
       
    </preProcessing>


    <formatDescription>

        <item identifier="pngRootItem"  xsi:type="structuringItem"
            order="sequence" objectType="image">


            <processing type="pushXCEL" xcelRef="pngRootItem">
                <processingMethod name="setByteOrder">
                    <param value="bigEndian"/>
                </processingMethod>
            </processing>

            <symbol identifier="signaturesymbol" 
                value="137 80 78 71 13 10 26 10"
                name="signature"/>
            
            <item identifier="pngheader"  xsi:type="structuringItem">
                
                <symbol identifier="headerLength" interpretation="uint32" length="4"/>
                
                <symbol identifier="headerType" value="IHDR" interpretation="ASCII"/>
                
                <symbol identifier="imageWidth" 
                        interpretation="uint32" name="imageWidth" length="4"/>
                    
                <symbol identifier="imageHeight" 
                        interpretation="uint32" name="imageHeight" length="4"/>
                    
                <symbol identifier="bitsPerSample"  name="bitsPerSample" length="1">
                        <validValues>
                            <value>1</value>
                            <value>2</value>
                            <value>4</value>
                            <value>6</value>
                            <value>8</value>
                            <value>16</value>
                        </validValues>
                    </symbol>
                    
                <symbol identifier="imageType"  name="imageType" length="1">
                        <valueInterpretation>
                            <valueLabel>greyscale</valueLabel>
                            <value>0</value>
                            <valueLabel>truecolour</valueLabel>
                            <value>2</value>
                            <valueLabel>palette</valueLabel>
                            <value>3</value>
                            <valueLabel>greyscaleAlpha</valueLabel>
                            <value>4</value>
                            <valueLabel>truecolourAlpha</valueLabel>
                            <value>6</value>
                        </valueInterpretation>
                    </symbol>
                    
                    
                <symbol identifier="compression" name="compression" length="1">
                        <valueInterpretation>
                            <valueLabel>zlibDeflateInflate</valueLabel>
                            <value>0</value>
                        </valueInterpretation>
                    </symbol>
                    
                <symbol identifier="filter"   name="filter" length="1">
                        <valueInterpretation>
                            <valueLabel>adaptive</valueLabel>
                            <value>0</value>
                        </valueInterpretation>
                    </symbol>
                    
                <symbol identifier="interlace"  name="interlace" length="1">
                        <valueInterpretation>
                            <valueLabel>adam7</valueLabel>
                            <value>1</value>
                            <valueLabel>noInterlace</valueLabel>
                            <value>0</value>
                        </valueInterpretation>
                    </symbol>
              
                
                <symbol identifier="IHDRCRC" length="4"/>

            </item>
            <!-- end of Header -->

            <item xsi:type="structuringItem" identifier="IDC02" order="all" optional="true">
                
                <!--IDAT-->
                <item xsi:type="structuringItem" identifier="IDAT"  multiple="true" optional="true">
			    
		            <symbol identifier="IDATLength" 
		                interpretation="uint32" length="4" />
				
		           <symbol identifier="IDATType"  interpretation="ASCII" value="IDAT" />
			
			    <processing type="pushXCEL" xcelRef="normDataSymbol">
				    <processingMethod name="setLength">
				        <param valueRef="IDATLength"/>
				    </processingMethod>
			    </processing>
			    
			   <symbol identifier="normDataSymbol" interpretation="uint8" name="normData"/>
				
		        <symbol identifier="IDATCRC"  length="4" />
			    
                    </item>
                <!-- end of IDAT-Chunk -->

                <!--gAMA start-->
                <item xsi:type="structuringItem" optional="true" identifier="GAMA" >
                    
                    <symbol identifier="GAMALength" 
                    interpretation="uint32" value="4" length="4" />
                    
                    <symbol identifier="GAMAType"  interpretation="ASCII" optional="false" value="gAMA"/>
                    
                    <item xsi:type="structuringItem" identifier="IDI03_I01" >
                        <symbol identifier="GAMAValue" 
                            interpretation="uint32" name="gamma" length="4" />
                    </item>
                   
                    <symbol identifier="GAMACRC"  length="4" />
                    
                </item>
                <!-- end of gAMA-Chunk -->
	
                <!--PLTE start-->
                <item xsi:type="structuringItem" identifier="PLTE" optional="true">

                    <symbol identifier="PLTELength" 
                        interpretation="uint32" length="4" />

                    <symbol identifier="PLTEType"  interpretation="ASCII" optional="false" value="PLTE" />

                    <processing type="pushXCEL" xcelRef="PLTEValue">
                        <processingMethod name="setLength">
                            <param valueRef="PLTELength"/>
                        </processingMethod>
                    </processing>

                    <symbol identifier="PLTEValue"  name="rgbPalette"/>

                    <symbol identifier="PLTECRC" length="4" />
                </item>
                <!-- end of PLTE-Chunk -->

                <!--sBIT Start-->
                <item xsi:type="structuringItem" optional="true" identifier="IDI05">

                    <symbol identifier="IDI05_S01" 
                        interpretation="uint32" length="4" />

                    <symbol identifier="IDI05_S02"  interpretation="ASCII" value="sBIT" />

                    <processing type="pushXCEL" xcelRef="sBitSymbol">
                        <processingMethod name="setLength">
                            <param valueRef="IDI05_S01"/>
                        </processingMethod>
                    </processing>

                    <symbol identifier="sBitSymbol" />

                    <symbol identifier="IDI05_S03"  length="4" />

                </item>
                <!-- end of sBIT-Chunk -->

                <!--tIME start-->
                <item xsi:type="structuringItem" identifier="TIME" optional="true">

                    <symbol identifier="TIMELength" 
                    interpretation="uint32" value="7" length="4"/>
                    
                    <symbol identifier="TIMEType" value="116 73 77 69" />

                    <item xsi:type="definitionItem" identifier="TIMEValue" name="timeLastMod">
                        <symbol identifier="YEAR"  interpretation="uint16" length="2"/>
                        <symbol identifier="MONTH"  length="1"/>
                        <symbol identifier="DAY"  length="1"/>
                        <symbol identifier="HOUR"  length="1"/>
                        <symbol identifier="MINUTE"  length="1"/>
                        <symbol identifier="SECOND"  length="1"/>
                    </item>
                    <!--end of imageItem timeLastMod -->

                    <symbol identifier="TIMECRC"  length="4"/>
                </item>
                <!-- end of tIME-Chunk -->

                <!--bKGD start-->
                <item xsi:type="structuringItem" identifier="BKGD" optional="true"
                     order="choice">
                    
                    <!-- choice 1 : greyscale--> 
                    <item xsi:type="structuringItem" identifier="IDI07_C01">
                        
                        <symbol identifier="BKGDLengthGreyscale" interpretation="uint32" value="2" length="4" />
                        
                        <symbol identifier="BKGDTypeGreyscale" value="98 75 71 68" />
                        
                        <symbol identifier="BKGDValueGreyscale" interpretation="uint16" name="backgroundColour" length="2" />
                        
                        <symbol identifier="BKGDCRCGreyscale"  length="4" />
                    
                    </item> <!-- choice 1 end -->
                    
                    
                    <!-- end of backgroundcolor - greyscale definition-->
                    
                    <!-- choice 2 -->
                    <item xsi:type="structuringItem" identifier="IDI07_C02" optional="true" name="backgroundColour">
                        
                        <symbol identifier="BKGDLengthTruecolor" interpretation="uint32" value="6" length="4" />
                        
                        <symbol identifier="BKGDTypeTruecolor" value="98 75 71 68" />
                        
                        <item xsi:type="definitionItem" identifier="IDI07_C02_I01">
                            
                            <symbol identifier="BKGDValueRTruecolor"  interpretation="uint16" length="2" />
                            
                            <symbol identifier="BKGDValueGTruecolor"  interpretation="uint16" length="2" />
                            
                            <symbol identifier="BKGDValueBTruecolor"  interpretation="uint16" length="2" />
                        </item>
                        <!-- end of chunkData -->
                        <symbol identifier="BKGDCRCTruecolor"  length="4" />
                    
                    </item> <!-- choice 2 end --> 
                    
                    <!-- end of background Colour truecolor definition -->
                    
                    <!--  choice 3 -->
                    <item xsi:type="structuringItem" identifier="IDI07_C03" optional="true">
                        
                        <symbol identifier="BKGDLengthIndexColor" interpretation="uint32" value="1" length="4" />
                        
                        <symbol identifier="BKGDTypeIndexColor" value="98 75 71 68" />
                        
                        <symbol identifier="BKGDValueIndexColor" name="backgroundColour" length="1" />
                        
                        <symbol identifier="BKGDCRCIndexColor"  length="4" />
                                   
                    </item>  <!-- choice 3 end -->
                    <!-- end of background color index color definition -->
                    
                </item>
                <!-- end of bKGD-Chunk -->
               
                <!--start of hist-->
                <item xsi:type="structuringItem" identifier="IDI08" optional="true">

                    <symbol identifier="IDI08_S01"  interpretation="uint32" length="4" />

                    <symbol identifier="IDI08_S02" value="104 73 83 84" />

                    <processing type="pushXCEL" xcelRef="histogramSymbol">
                        <processingMethod name="setLength">
                            <param valueRef="IDI08_S01"/>
                        </processingMethod>
                    </processing>

                    <symbol identifier="histogramSymbol" name="histogram" length="1" />

                    <symbol identifier="IDI08_S03"  length="4" />
                    
                </item>
                <!-- end of hIST-Chunk -->
                
                <!--start of tEXt-->
                <item xsi:type="structuringItem" identifier="TEXT"  optional="true" multiple="true">
                    <symbol identifier="TEXTLength"  interpretation="uint32" length="4"/>
                    
                    <symbol identifier="TEXTType" value="tEXt" interpretation="ASCII"/>

                    <processing type="pushXCEL" xcelRef="textItem">
                        <processingMethod name="setLength">
                            <param valueRef="TEXTLength"/>
                        </processingMethod>
                    </processing>
                    
                    <item xsi:type="definitionItem" identifier="textItem">
                        <item xsi:type="definitionItem" identifier="textualDataKeyword" name="textualDataKeyword">
                            <symbol multiple="true" identifier="TextualKeywordChar" interpretation="ASCII" length="1">
                                <nonValidValues>
                                    <value>NULL</value>
                                </nonValidValues>
                            </symbol>
                        </item>
                        <symbol identifier="TextualDataSeparator" value="0" length="1"/>
                        
                        <item xsi:type="definitionItem" identifier="textualDataString" name="textualDataString">
                            <symbol interpretation="Latin1" identifier="TextualDataChar" multiple="true" length="1"/>
                        </item>
                        
                    </item>
                    <!-- end of Chunk Data -->
                    <symbol identifier="TEXTCRC"  length="4"/>
                </item>
                <!-- end of tEXt-Chunk -->
                
                <!-- start of tRNS -->
                <item xsi:type="structuringItem" identifier="IDI12" optional="true"
                     order="sequence">

                    <item xsi:type="structuringItem" identifier="IDI12_C01" order="choice">

                        <item xsi:type="structuringItem" identifier="IDI12_C01_I01" optional="true">

                            <symbol identifier="IDI12_C01_I01_S01"  interpretation="uint32" value="2" length="4" />

                            <symbol identifier="IDI12_C01_I01_S02" value="116 82 78 83" />

                            <item xsi:type="definitionItem" identifier="IDI12_C01_I01_I01" name="transparency">
                                <symbol identifier="IDI12_C01_I01_S03" length="2" />
                     
                            </item>

                        </item>
                        <!-- end of transparency - greyscale definition-->

                        <item xsi:type="structuringItem" identifier="IDI12_C01_I02" optional="true">

                            <symbol identifier="IDI12_C01_I02_S01"  interpretation="uint32" value="6" length="4" />

                            <symbol identifier="IDI12_C01_I02_S02" value="116 82 78 83" length="4" />

                            <item xsi:type="structuringItem" identifier="IDI12_C01_I02_I01" length="6">
                               

                                <item xsi:type="definitionItem" identifier="IDI12_C01_I02_I01_I01" name="transparency">
                                    <symbol identifier="IDI12_C01_I02_I01_S01" length="2" />
                                    <symbol identifier="IDI12_C01_I02_I01_S02" length="2" />
                                    <symbol identifier="IDI12_C01_I02_I01_S03" length="2" />
                                 
                                </item>
                            </item>
                            <!-- end of chunkData -->
                        </item>

                        <!-- end of background Colour truecolor definition -->

                        <item xsi:type="structuringItem" identifier="IDI12_C01_I03" optional="true">

                            <symbol identifier="IDI12_C01_I03_S01"  interpretation="uint32" length="4" />

                            <symbol identifier="IDI12_C01_I03_S02" value="116 82 78 83" length="4" />

                            <processing type="pushXCEL" xcelRef="transparencyItem">
                                <processingMethod name="setLength">
                                    <param valueRef="IDI12_C01_I03_S01"/>
                                </processingMethod>
                            </processing>

                            <item xsi:type="structuringItem" identifier="transparencyItem"
                                optional="true">
                                <item xsi:type="definitionItem" identifier="IDI12_C01_I03_I01_I01" name="transparency">
                                    <symbol identifier="IDI12_C01_I03_I01_S0" multiple="true" length="1" >
                                        <validValues>
                                            <startRange>0</startRange>
                                            <endRange>255</endRange>
                                        </validValues>
                                        
                                    </symbol>
                                </item>
                            </item>
                        </item>
                    </item>
                    <!--end of unordered Item-->

                    <symbol identifier="IDI12_S01"  length="4" />
                </item>
                <!-- end of tRNS-Chunk -->

                <!--start of cHRM-->
                <item xsi:type="structuringItem" identifier="IDI13" 
                    optional="true">

                    <symbol identifier="IDI13_S01" 
                        interpretation="uint32" length="4" />

                    <symbol identifier="IDI13_S02" value="99 72 82 77" length="4" />

                    <item xsi:type="definitionItem" identifier="context02">

                        <symbol identifier="IDI13_I01_I01_S01" interpretation="uint32" name="whitePointX" length="4" />

                        <symbol identifier="IDI13_I01_I01_S02" interpretation="uint32" name="whitePointY" length="4" />

                        <symbol identifier="IDI13_I01_I02_S01" interpretation="uint32" name="1931CIE_ChromaticityRedX" length="4" />

                        <symbol identifier="IDI13_I01_I02_S02" interpretation="uint32" name="1931CIE_ChromaticityRedY" length="4" />

                        <symbol identifier="IDI13_I01_I03_S01" interpretation="uint32" name="1931CIE_ChromaticityGreenX" length="4" />

                        <symbol identifier="IDI13_I01_I03_S02" interpretation="uint32" length="4" />

                        <symbol identifier="IDI13_I01_I04_S01" interpretation="uint32" name="1931CIE_ChromaticityBlueX" length="4" />

                        <symbol identifier="IDI13_I01_I04_S02" interpretation="uint32" name="1931CIE_ChromaticityBlueY" length="4" />

                    </item>
                    <!-- end of contextItem-->

                    <symbol identifier="IDI13_S03"  length="4" />
                </item>
                <!-- end of  cHRM-Chunk -->

                <!--start of iCCP-->
                <item xsi:type="structuringItem" identifier="IDI14" 
                    optional="true">

                    <symbol identifier="IDI14_S01"  interpretation="uint32" length="4" />

                    <symbol identifier="IDI14_S02" value="105 67 67 80"  />

                    <processing type="pushXCEL" xcelRef="iccpItem">
                        <processingMethod name="setLength">
                            <param valueRef="IDI14_S01"/>
                        </processingMethod>
                    </processing>

                    <item xsi:type="structuringItem" identifier="iccpItem">

                        <symbol multiple="true" identifier="IDI14_I01_S01" interpretation="Latin1" name="textualDataKeyword" length="1" >
                            <validValues>
                                <startRange>1</startRange>
                                <endRange>255</endRange>
                            </validValues>
                        </symbol>

                        <symbol identifier="IDI14_I01_S02" value="0" length="1" />

                        <symbol identifier="IDI14_I01_S03"  name="compression" length="1" >
                            <valueInterpretation>
                                <valueLabel>zlibDeflateInflate</valueLabel>
                                <value>0</value>
                            </valueInterpretation>
                        </symbol>

                        <symbol multiple="true" interpretation="utf-8" identifier="IDI14_I01_S04" name="compressedText">
                 
                        </symbol>
                    </item>
                    <symbol identifier="IDI14_S03"  length="4" />
                </item>
                <!-- end of  iCCP-Chunk -->

                <!--start of sRGB-->
                <item xsi:type="structuringItem" identifier="IDI15" 
                    optional="true">

                    <symbol identifier="IDI15_S01"  interpretation="uint32" length="4" />

                    <symbol identifier="IDI15_S02" value="115 82 71 66" length="4" />

                    <item xsi:type="structuringItem" identifier="IDI15_I01">

                        <symbol identifier="IDI15_I01_S01" name="ICC-1/ICC-1A_RenderingIntent" length="1" >
                            <valueInterpretation>
                                <valueLabel>perceptual</valueLabel>
                                <value>0</value>
                                <valueLabel>relativeColorimetric</valueLabel>
                                <value>1</value>
                                <valueLabel>saturation</valueLabel>
                                <value>2</value>
                                <valueLabel>absoluteColorimetric</valueLabel>
                                <value>3</value>
                            </valueInterpretation>
                        </symbol>

                    </item>
                    <!-- end of Chunk Data -->
                    <symbol identifier="IDI15_S03"  length="4" />
                </item>
                <!-- end of  sRGB-Chunk -->

                <!--start of pHYS-->
                <item xsi:type="structuringItem" identifier="IDI16" 
                    optional="true">

                    <symbol identifier="IDI16_S01"  interpretation="uint32" length="4" />

                    <symbol identifier="IDI16_S02" value="112 72 89 115" length="4" />

                    <item xsi:type="definitionItem" identifier="IDI16_I01" name="resolutionX">

                        <symbol identifier="IDI16_I01_S01" length="4" />

                        <symbol identifier="IDI16_I01_S02" name="resolutionY" length="4" />

                        <symbol identifier="IDI16_I01_S03" name="resolutionUnit" length="1" >
                            <valueInterpretation>
                                <valueLabel>unspecified</valueLabel>
                                <value>0</value>
                                <valueLabel>metre</valueLabel>
                                <value>1</value>
                            </valueInterpretation>
                        </symbol>

                    </item>
                    <!-- end of Chunk Data -->
                    <symbol identifier="IDI16_S03"  length="4" />
                </item>
                <!-- end of  pHYS-Chunk -->

                <!--start of spAL-->
                <!-- the suggested Palette Chunk that is used by the png test
				images from the libpng webpage. The original SPLT chunk is described above -->
                <item xsi:type="structuringItem" identifier="IDI17" 
                    optional="true" multiple="false">
                    <symbol identifier="IDI17_S01" 
                        interpretation="uint32" length="4" />

                    <symbol identifier="IDI17_S02" value="115 112 65 76" length="4" />

                    <processing type="pushXCEL" xcelRef="spalItem">
                        <processingMethod name="setLength">
                            <param valueRef="IDI17_S01"/>
                        </processingMethod>
                    </processing>
                    
                    <item xsi:type="structuringItem" identifier="spalItem" name="suggestedPaletteName">
                        
                        <item xsi:type="definitionItem" identifier="IDI17_I02_I01_I01">

                            <symbol identifier="IDI17_I02_I01_I01_S01" interpretation="ASCII"
                                multiple="true" length="1" >
                                <nonValidValues>
                                    <value>NULL</value>
                                </nonValidValues>
                            </symbol>

                            <symbol identifier="IDI17_I02_I01_I01_S02" value="0" length="1" />

                            <symbol identifier="IDI17_I02_I01_I01_S03" interpretation="ASCII"
                                multiple="true" length="1" >
                                <nonValidValues>
                                    <value>NULL</value>
                                </nonValidValues>
                            </symbol>

                            <symbol identifier="IDI17_I02_I01_I01_S04" value="0" length="1" />
                            
                        </item>
                        <!--end of definition Item suggested Palette Name-->

                        <item xsi:type="structuringItem" order="choice" identifier="IDI17_I02_I01_I02"><!-- either 8 bit or 16 bit --> 

                            <item xsi:type="structuringItem" identifier="IDI17_I02_I01_I02_I01"><!-- choice 1: 8 bit -->
                                
                                <symbol identifier="IDI17_I02_I01_I02_I01_S01" value="8" name="suggestedPaletteSampleDepth" length="1" />

                                <item xsi:type="definitionItem" identifier="sPalEntry8" multiple="true">
                                        
                                    <symbol identifier="spalEntryTrueColorRed" length="1"/>
                                    <symbol identifier="spalEntryTrueColorGreen" length="1"/>
                                    <symbol identifier="spalEntryTrueColorBlue" length="1"/>
                                    <symbol identifier="spalEntryAlpha" name="suggestedPaletteAlpha" length="1"/>
                                    <symbol identifier="spalEntryFrequency"  interpretation="uint16" name="suggestedPaletteFrequency" length="2"/>

                                </item>
                                <!--end of contextItem sPalEntry8-->
                                
                            </item>
                            <!-- end of choice 1: 8 Bit Item-->
                            

                            <item xsi:type="structuringItem" identifier="IDI17_I02_I01_I03" name="suggestedPaletteSampleDepth">
                                
                                <symbol identifier="IDI17_I02_I01_I03_S01" value="16" length="1" />
                                        
                                        <item xsi:type="definitionItem"   identifier="sPalEntry16" multiple="true">
                                            
                                            <symbol identifier="spalEntryTrueColorRed2"
                                                interpretation="uint16" length="2"/>
                                            <symbol identifier="spalEntryTrueColorGreen2"
                                                interpretation="uint16" length="2"/>
                                            <symbol identifier="spalEntryTrueColorBlue2"
                                                interpretation="uint16" length="2"/>
                                            <symbol identifier="spalEntryAlpha2"
                                                interpretation="uint16" name="suggestedPaletteAlpha" length="2"/>
                                            <symbol identifier="spalEntryFrequency2"
                                                interpretation="uint16" name="suggestedPaletteFrequency" length="2"/>
                                            
                                        </item>
                                <!--end of contextItem sPalEntry16 -->

                            </item>
                            <!-- end of choice 2: 16Bit Item-->
                            
                        </item>
                        <!--end of 16Bit or 8Bit unordered Item-->
                        
                    </item>
                    <!-- end of structering Item (range) -->
            
                    
                    <!-- end of Chunk Data -->
                    <symbol identifier="IDI17_S03"  length="4" />
                
                </item>
                <!-- end of  sPLT-Chunk -->     
                
                <!-- original SPLT chunk as described in PNG spec-->
                <item xsi:type="structuringItem" identifier="SPAL" 
                    optional="true" multiple="false">
                    <symbol identifier="SPAL_S01" 
                        interpretation="uint32" length="4" />
                    
                    <symbol identifier="SPAL_S02"  interpretation="ASCII" value="SPAL" length="4" />
                    
                    <processing type="pushXCEL" xcelRef="SPLTItem">
                        <processingMethod name="setLength">
                            <param valueRef="SPAL_S01"/>
                        </processingMethod>
                    </processing>
                    
                    <item xsi:type="structuringItem" identifier="SPLTItem">
                        
                        <item xsi:type="definitionItem" identifier="SPAL_I02_I01_I01" name="suggestedPaletteName">
                                                   
                            <symbol identifier="SPAL_I02_I01_I01_S01" interpretation="ASCII"
                                multiple="true" length="1" >
                                <nonValidValues>
                                    <value>NULL</value>
                                </nonValidValues>
                            </symbol>
                             
                            <symbol identifier="SPAL_I02_I01_I01_S02" value="0" length="1" />
                            
                        </item>
                        <!--end of definition Item suggested Palette Name-->
                        
                        <item xsi:type="structuringItem" order="all" identifier="SPAL_I02_I01_I02">
                            
                            <item xsi:type="structuringItem" identifier="SPAL_I02_I01_I02_I01">
                                <symbol identifier="SPAL_I02_I01_I02_I01_S01" value="8" name="suggestedPaletteSampleDepth" length="1" />
                                <!--         <item xsi:type="structuringItem" ordered="false" identifier="spalMultipleWorkAround">-->
                                
                                <item xsi:type="structuringItem" identifier="SPALEntry"
                                    multiple="true">
                                    <item xsi:type="definitionItem" identifier="SPALEntryContextItem">
                                        <symbol identifier="SPALEntryTrueColorRed" length="1" />
                                        <symbol identifier="SPALEntryTrueColorGreen" length="1" />
                                        <symbol identifier="SPALEntryTrueColorBlue" length="1" />
                                        <symbol identifier="SPALEntryAlpha" name="suggestedPaletteAlpha" length="1" />
                                        <symbol identifier="SPALEntryFrequency"
                                            interpretation="uint16" name="suggestedPaletteFrequency" length="2" />
                                        
                                    </item>
                                    <!--end of contextItem-->
                                </item>
                                <!-- end of Palette Entry-->
                                <!-- </item>-->
                                <!-- end of multiple Item -->
                            </item>
                            <!-- end of 8Bit Item-->
                            
                            <item xsi:type="structuringItem" identifier="SPAL_I02_I01_I03">
                                <symbol identifier="SPAL_I02_I01_I03_S01" value="16" name="suggestedPaletteSampleDepth" length="1" />
                                <item xsi:type="structuringItem" order="all"
                                    identifier="SPALMultipleWorkAround2">
                                    
                                    <item xsi:type="structuringItem" identifier="SPALEntry2">
                                        <item xsi:type="definitionItem"
                                            identifier="SPALEntryContextItem2">
                                            <symbol identifier="SPALEntryTrueColorRed2"
                                                interpretation="uint16" length="2" />
                                            <symbol identifier="SPALEntryTrueColorGreen2"
                                                interpretation="uint16" length="2" />
                                            <symbol identifier="SPALEntryTrueColorBlue2"
                                                interpretation="uint16" length="2" />
                                            <symbol identifier="SPALEntryAlpha2"
                                                interpretation="uint16" name="suggestedPaletteAlpha" length="2" />
                                            <symbol identifier="SPALEntryFrequency2"
                                                interpretation="uint16" name="suggestedPaletteFrequency" length="2" />
                                        </item>
                                        <!--end of contextItem-->
                                    </item>
                                    <!-- end of Palette Entry-->
                                </item>
                                <!-- end of multiple Item -->
                            </item>
                            <!-- end of 16Bit Item-->
                        </item>
                        <!--end of 16Bit or 8Bit unordered Item-->
                    </item>
                    <!-- end of structering Item (range) -->
                    <!-- end of Chunk Data -->
                    <symbol identifier="SPAL_S03"  length="4"/>
                </item>
                <!-- end of  SPLT-Chunk -->
                
                <!--  zTXt-->
	    <item xsi:type="structuringItem" optional="true" identifier="ztxt1"
		       multiple="true">
			
		    <symbol identifier="ztxt2"  interpretation="uint32" length="4"/>
			
		    <symbol interpretation="ASCII" value="zTXt" length="4"/>
			
		           <processing type="pushXCEL" xcelRef="ztextItem">
				<processingMethod name="setLength">
					<param valueRef="ztxt2"/>
				</processingMethod>
			</processing>

		<item identifier="ztextItem" xsi:type="definitionItem">


		    <item xsi:type="definitionItem" identifier="ztextualDataKeyword" name="textualDataKeyword">
		        <symbol multiple="true" identifier="zkeyChar" interpretation="ASCII" length="1">
		            <nonValidValues>
		                <value>NULL</value>
		            </nonValidValues>
		        </symbol>
		    </item>

		    <symbol identifier="zdelimiter" value="0" length="1"/>
		    

		    <symbol multiple="false" identifier="zTXtCompressionMethod" interpretation="uint8" length="1">
		        <valueInterpretation>
		            <valueLabel>zlibDeflateInflate</valueLabel>
		            <value>0</value>
		        </valueInterpretation>
		    </symbol>

		 <processing type="pushXCEL" xcelRef="zTextualDataString">
		       <processingMethod name="addFilter">
                             <param value="compression"/>
                             <param valueRef="zTXtCompressionMethod"/>
                         </processingMethod>
                     </processing>
		  
		    <item xsi:type="definitionItem" identifier="zTextualDataString" name="textualDataString">
		        <symbol interpretation="Latin1" identifier="zdatacharr" multiple="true" length="1"/>
		    </item>

			
		</item>	
		    <symbol identifier="ztxtCRC"  length="4"/>
			
		</item>
                <!--  END zTXt-->
                
                <!--IEND start-->
                <item xsi:type="structuringItem" identifier="ID01_I18" 
                    multiple="false">
                    <symbol identifier="ID01_I18_S01"  interpretation="uint32" value="0" length="4"/>
                    <symbol identifier="ID01_I18_S02"  interpretation="ASCII" value="IEND" length="4"/>
                    <symbol identifier="ID01_I18_S04"  length="4"/>
                </item>
                <!-- end of IEND-Chunk -->

                <!--Dummy Start-->
               <item xsi:type="structuringItem" optional="true" identifier="dummy"
                     multiple="true">

                    <symbol identifier="dummyLength" interpretation="uint32" length="4"/>

                    <symbol identifier="dummyType"  length="4"/>

                    <processing type="pushXCEL" xcelRef="dummyValue">
                        <processingMethod name="setLength">
                            <param valueRef="dummyLength"/>
                        </processingMethod>
                    </processing>

                    <symbol identifier="dummyValue" interpretation="uint8"/>

                   <symbol identifier="dummyCRC" length="4"/>

                </item>
                <!-- end of Dummy-Chunk -->
            
            </item>
            <!-- end of all Item-->

        </item>
    </formatDescription>


    <templates>
        
    </templates>


    <postProcessing>
         <item xsi:type="structuringItem" order="sequence" identifier="pp01">
        	<item xsi:type="structuringItem" order="sequence" identifier="pp03">     
        	    <processing type="pushBinary" xcelNameRef="normData">
        		<processingMethod name="addFilter">
        			<param value="compression"/><!-- Filter Typ-->
        			<param nameRef="compression"/><!--zlibDeflateInflate-->
        		</processingMethod>
        		<processingMethod name="addFilter">
        			<param value="pngFilterMethod"/>
        			<!--Filter Typ-->
        			<param nameRef="filter"/>
        			<!--Png Filter name "adaptive" oder "nothing"-->
        			<param nameRef="imageWidth"/>
        			<param nameRef="imageHeight"/>
        		           <param nameRef="bitsPerSample"/>
        			<param nameRef="imageType"/>
        			<param nameRef="interlace"/>
        			<!--interlace "adam7" oder "noInterlace"-->
        		</processingMethod>
        		</processing>
        	</item>
        	<item xsi:type="structuringItem" order="sequence" identifier="pp02">
        		<processing type="pullXCEL" xcelNameRef="imageType">
        			<processingMethod name="isEqual">
        			   <param value="palette"/>	
        			</processingMethod>
        		</processing>	
        		<processing type="pushBinary" xcelNameRef="normData">
        			<processingMethod name="addFilter">
        				<param value="chunkyPalette"/>
        				<param nameRef="rgbPalette"/>
        				<param nameRef="imageWidth"/>
        				<param nameRef="imageHeight"/>
        			</processingMethod>
        		</processing>
        	</item>
         </item>
    </postProcessing>

</XCELDocument>
